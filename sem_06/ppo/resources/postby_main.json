{"openapi":"3.0.0","info":{"title":"API for ppo project","version":"1.0.0"},"servers":[{"url":"http://localhost:3000/api/v2"}],"paths":{"/auth":{"post":{"description":"login","responses":{"200":{"description":"login user","content":{"application/json":{"example":"{\n  \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2OTk1NjY3NDcsImlhdCI6MTY5OTMwNzU0NywianRpIjoiMjY4NGU5YzEtMTJhYi00YmVjLTkyMDktMDZkMjJjYTYwNzZjIn0.SdRtuN7eGrkYlF2jtReQ0vDJDLdFFq64kKjyUKc_IpI\"\n}"}},"headers":{"Set-Cookie":{"schema":{"type":"string"},"example":""}}},"404":{"description":"user not found","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"412":{"description":"incorrect login or password","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"500":{"description":"internal server error","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}}}},"get":{"description":"get current user","responses":{"200":{"description":"user info","content":{"application/json":{"example":"{\n  \"user\": {\n    \"id\": \"e95ab7b2-636e-447f-9f87-04072e4b3b9d\",\n    \"login\": \"muhomorfus\",\n    \"picture\": \"string\",\n    \"description\": \"string\",\n    \"balance\": 0,\n    \"mail\": \"string\",\n    \"isAdmin\": false\n  }\n}"}},"headers":{}},"401":{"description":"authorization failed","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"404":{"description":"user not found","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"500":{"description":"internal server error","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}}}},"delete":{"description":"logout","responses":{"200":{"description":"logout","content":{"application/json":{"example":{}}},"headers":{}},"401":{"description":"authorization failed","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"404":{"description":"user not found","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"500":{"description":"internal server error","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}}}}},"/users/{login}":{"get":{"description":"get user by login","responses":{"200":{"description":"view profile user","content":{"application/json":{"example":"{\n  \"user\": {\n    \"id\": \"e95ab7b2-636e-447f-9f87-04072e4b3b9d\",\n    \"login\": \"muhomorfus\",\n    \"picture\": \"string\",\n    \"description\": \"string\",\n    \"balance\": 0,\n    \"mail\": \"string\",\n    \"isAdmin\": false\n  },\n  \"subscribed\": false,\n  \"self\": false\n}"}},"headers":{}},"401":{"description":"authorization failed","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"404":{"description":"user not found","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"500":{"description":"internal server error","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}}},"parameters":[{"name":"login","in":"path","schema":{"type":"string"},"required":true}]},"delete":{"description":"delete user by login","responses":{"200":{"description":"delete user","content":{"application/json":{"example":"{\n  \"deleted\": true\n}"}},"headers":{}},"400":{"description":"auto delete","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"401":{"description":"authorization failed","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"403":{"description":"not an admin","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"404":{"description":"user not found","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"500":{"description":"internal server error","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}}},"parameters":[{"name":"login","in":"path","schema":{"type":"string"},"required":true}]}},"/posts":{"get":{"description":"get posts (feed or profile)","responses":{"200":{"description":"get posts","content":{"application/json":{"example":"{\n  \"total\": 1,\n  \"posts\": [\n    {\n      \"id\": \"e95ab7b2-636e-447f-9f87-04072e4b3b9d\",\n      \"content\": \"aaaaa\",\n      \"pubTime\": \"2023-12-12 12:30:00\",\n      \"author\": {\n        \"id\": \"e95ab7b2-636e-447f-9f87-04072e4b3b9d\",\n        \"login\": \"muhomorfus\",\n        \"picture\": \"string\",\n        \"description\": \"string\",\n        \"balance\": 0,\n        \"mail\": \"string\",\n        \"isAdmin\": false\n      },\n      \"commentsNum\": 0,\n      \"reactions\": [\n        {\n          \"icon\": \"string\",\n          \"num\": 1,\n          \"typeID\": \"e95ab7b2-636e-447f-9f87-04072e4b3b9d\",\n          \"yours\": false\n        }\n      ],\n      \"perms\": false\n    }\n  ]\n}"}},"headers":{}},"400":{"description":"invalid parameters","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"401":{"description":"authorization failed","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"402":{"description":"only after subscription","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"404":{"description":"user not found","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"500":{"description":"internal server error","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}}}},"post":{"description":"publish post","responses":{"201":{"description":"publish post","content":{"application/json":{"example":"{\n  \"post\": {\n    \"id\": \"e95ab7b2-636e-447f-9f87-04072e4b3b9d\",\n    \"content\": \"aaaaa\",\n    \"pubTime\": \"2023-12-12 12:30:00\",\n    \"author\": {\n      \"id\": \"e95ab7b2-636e-447f-9f87-04072e4b3b9d\",\n      \"login\": \"muhomorfus\",\n      \"picture\": \"string\",\n      \"description\": \"string\",\n      \"balance\": 0,\n      \"mail\": \"string\",\n      \"isAdmin\": false\n    },\n    \"commentsNum\": 0,\n    \"reactions\": [\n      {\n        \"icon\": \"string\",\n        \"num\": 1,\n        \"typeID\": \"e95ab7b2-636e-447f-9f87-04072e4b3b9d\",\n        \"yours\": false\n      }\n    ],\n    \"perms\": false\n  },\n  \"published\": true\n}"}},"headers":{}},"401":{"description":"authorization failed","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"404":{"description":"user not found","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"500":{"description":"internal server error","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}}}}},"/users":{"get":{"description":"get all users","responses":{"200":{"description":"view users","content":{"application/json":{"example":"{\n  \"total\": 1,\n  \"users\": [\n    {\n      \"id\": \"e95ab7b2-636e-447f-9f87-04072e4b3b9d\",\n      \"login\": \"muhomorfus\",\n      \"picture\": \"string\",\n      \"description\": \"string\",\n      \"balance\": 0,\n      \"mail\": \"string\",\n      \"isAdmin\": false\n    }\n  ]\n}"}},"headers":{}},"400":{"description":"invalid parameters","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"401":{"description":"authorization failed","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"403":{"description":"not an admin","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"404":{"description":"user not found","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"500":{"description":"internal server error","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}}}},"post":{"description":"register","responses":{"201":{"description":"register user","content":{"application/json":{"example":"{\n  \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2OTk1NjY3NDcsImlhdCI6MTY5OTMwNzU0NywianRpIjoiMjY4NGU5YzEtMTJhYi00YmVjLTkyMDktMDZkMjJjYTYwNzZjIn0.SdRtuN7eGrkYlF2jtReQ0vDJDLdFFq64kKjyUKc_IpI\"\n}"}},"headers":{}},"409":{"description":"user already exists","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"412":{"description":"invalid login, password or email","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"500":{"description":"internal server error","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}}}}},"/users/{id}/subscribers":{"post":{"description":"subscribe by id","responses":{"200":{"description":"subscribe","content":{"application/json":{"example":"{\n  \"subscribed\": true\n}"}},"headers":{}},"401":{"description":"authorization failed","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"402":{"description":"insufficient balance","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"404":{"description":"user not found","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"500":{"description":"internal server error","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}}},"parameters":[{"name":"id","in":"path","schema":{"type":"string"},"required":true}]}},"/users/{id}/subscribers/{subscriber_id}":{"delete":{"description":"unsubscribe by id","responses":{"200":{"description":"unsubscribe","content":{"application/json":{"example":"{\n  \"subscribed\": false\n}"}},"headers":{}},"401":{"description":"authorization failed","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"404":{"description":"user not found","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"500":{"description":"internal server error","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}}},"parameters":[{"name":"id","in":"path","schema":{"type":"string"},"required":true},{"name":"subscriber_id","in":"path","schema":{"type":"string"},"required":true}]}},"/posts/{id}/reactions":{"post":{"description":"react to post by id","responses":{"200":{"description":"react to post","content":{"application/json":{"example":"{\n  \"reacted\": true\n}"}},"headers":{}},"401":{"description":"authorization failed","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"402":{"description":"only after subscription","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"403":{"description":"cannot react to authored post","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"404":{"description":"post not found","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"500":{"description":"internal server error","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}}},"parameters":[{"name":"id","in":"path","schema":{"type":"string"},"required":true}]}},"/posts/{id}/reactions/{type_id}":{"delete":{"description":"unreact post by id","responses":{"200":{"description":"unreact post","content":{"application/json":{"example":"{\n  \"reacted\": false\n}"}},"headers":{}},"401":{"description":"authorization failed","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"402":{"description":"only after subscription","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"403":{"description":"cannot unreact authored post","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"404":{"description":"post not found","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"500":{"description":"internal server error","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}}},"parameters":[{"name":"id","in":"path","schema":{"type":"string"},"required":true},{"name":"type_id","in":"path","schema":{"type":"string"},"required":true}]}},"/posts/{id}/comments":{"post":{"description":"comment post by id","responses":{"201":{"description":"comment post","content":{"application/json":{"example":"{\n  \"comment\": {\n    \"id\": \"e95ab7b2-636e-447f-9f87-04072e4b3b9d\",\n    \"content\": \"aaaaa\",\n    \"pubTime\": \"2023-12-12 12:30:00\",\n    \"commentator\": {\n      \"id\": \"e95ab7b2-636e-447f-9f87-04072e4b3b9d\",\n      \"login\": \"muhomorfus\",\n      \"picture\": \"string\",\n      \"description\": \"string\",\n      \"balance\": 0,\n      \"mail\": \"string\",\n      \"isAdmin\": false\n    },\n    \"postID\": \"e95ab7b2-636e-447f-9f87-04072e4b3b9d\"\n  }\n}"}},"headers":{}},"401":{"description":"authorization failed","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"402":{"description":"only after subscription","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"404":{"description":"post not found","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"500":{"description":"internal server error","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}}},"parameters":[{"name":"id","in":"path","schema":{"type":"string"},"required":true}]},"get":{"description":"get comments for post by id","responses":{"200":{"description":"view post comments","content":{"application/json":{"example":"{\n  \"total\": 1,\n  \"comments\": [\n    {\n      \"id\": \"e95ab7b2-636e-447f-9f87-04072e4b3b9d\",\n      \"content\": \"aaaaa\",\n      \"pubTime\": \"2023-12-12 12:30:00\",\n      \"commentator\": {\n        \"id\": \"e95ab7b2-636e-447f-9f87-04072e4b3b9d\",\n        \"login\": \"muhomorfus\",\n        \"picture\": \"string\",\n        \"description\": \"string\",\n        \"balance\": 0,\n        \"mail\": \"string\",\n        \"isAdmin\": false\n      },\n      \"postID\": \"e95ab7b2-636e-447f-9f87-04072e4b3b9d\"\n    }\n  ]\n}"}},"headers":{}},"400":{"description":"invalid parameters","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"401":{"description":"authorization failed","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"402":{"description":"only after subscription","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"404":{"description":"post not found","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"500":{"description":"internal server error","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}}},"parameters":[{"name":"id","in":"path","schema":{"type":"string"},"required":true}]}},"/posts/{id}/comments/{comment_id}":{"delete":{"description":"uncomment post by id","responses":{"200":{"description":"uncomment post","content":{"application/json":{"example":"{\n  \"uncommented\": true\n}"}},"headers":{}},"401":{"description":"authorization failed","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"402":{"description":"only after subscription","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"403":{"description":"only your posts","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"404":{"description":"post not found","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"500":{"description":"internal server error","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}}},"parameters":[{"name":"id","in":"path","schema":{"type":"string"},"required":true},{"name":"comment_id","in":"path","schema":{"type":"string"},"required":true}]}},"/posts/{id}":{"get":{"description":"get post by id","responses":{"200":{"description":"get post","content":{"application/json":{"example":"{\n  \"post\": {\n    \"id\": \"e95ab7b2-636e-447f-9f87-04072e4b3b9d\",\n    \"content\": \"aaaaa\",\n    \"pubTime\": \"2023-12-12 12:30:00\",\n    \"author\": {\n      \"id\": \"e95ab7b2-636e-447f-9f87-04072e4b3b9d\",\n      \"login\": \"muhomorfus\",\n      \"picture\": \"string\",\n      \"description\": \"string\",\n      \"balance\": 0,\n      \"mail\": \"string\",\n      \"isAdmin\": false\n    },\n    \"commentsNum\": 0,\n    \"reactions\": [\n      {\n        \"icon\": \"string\",\n        \"num\": 1,\n        \"typeID\": \"e95ab7b2-636e-447f-9f87-04072e4b3b9d\",\n        \"yours\": false\n      }\n    ],\n    \"perms\": false\n  }\n}"}},"headers":{}},"401":{"description":"authorization failed","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"402":{"description":"only after subscription","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"404":{"description":"post not found","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"500":{"description":"internal server error","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}}},"parameters":[{"name":"id","in":"path","schema":{"type":"string"},"required":true}]},"delete":{"description":"delete post by id","responses":{"200":{"description":"delete post","content":{"application/json":{"example":"{\n  \"deleted\": true\n}"}},"headers":{}},"401":{"description":"authorization failed","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"403":{"description":"only for authored posts","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"404":{"description":"post not found","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"500":{"description":"internal server error","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}}},"parameters":[{"name":"id","in":"path","schema":{"type":"string"},"required":true}]}},"/posts/{id}/perms":{"patch":{"description":"change perms for post by id","responses":{"200":{"description":"change post perms","content":{"application/json":{"example":"{\n  \"changed\": \"true\"\n}"}},"headers":{}},"401":{"description":"authorization failed","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"403":{"description":"only for authored posts","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"404":{"description":"post not found","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}},"500":{"description":"internal server error","content":{"application/json":{"example":"{\n  \"message\": \"Cannot login.\",\n  \"systemMessage\": \"\"\n}"}},"headers":{}}},"parameters":[{"name":"id","in":"path","schema":{"type":"string"},"required":true}]}}}}